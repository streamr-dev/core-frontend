import SvgIcon from '$shared/components/SvgIcon'
import cx from 'classnames'

import Image from '$docs/components/Image'

import ShareSettings from './images/sharing_resources_in_core_02_desktop.jpg'
import ShareSettings2x from './images/sharing_resources_in_core_02_desktop@2x.jpg'
import Sharing from './videos/sharing_resources_in_core_01.mp4'

import docsStyles from '$docs/components/DocsLayout/docsLayout.pcss'
import coreStyles from '$docs/components/Pages/Core/core.pcss'

# Sharing resources in Core

When using the Core app you can share most resources with other Streamr user accounts. Streams, canvases and dashboards can all be shared. There are two routes in Core for sharing resources, from the edit view or the main display view for that resource. Streams are shared from the list item menu or the share button in the edit view. Canvases and
dashboards are shared from the tile menu or the share button on the editor toolbar.

<figure>
    <div className={coreStyles.videoFrame}>
        <video muted loop autoPlay>
            <source src={Sharing} type="video/mp4" />
        </video>
    </div>
</figure>

## The share sidebar

Wherever you access it from, all resources are shared from the sidebar. The general flow 
of sharing with the sidebar works like this.

1. Choose private or public resource
2. Type the Ethereum address of the user you want invite to share
3. Choose the permissions for that user, either via the role chooser or build a custom role by clicking the checkboxes
4. Add, remove or adjust permissions for as many people as you want
5. Click Save to finalise any changes button before you close the side bar
6. Get a confirmation “Your permissions have been updated” notification

<Image
  src={ShareSettings}
  highResSrc={ShareSettings2x}
  alt="Share settings"
  figCaption="The share sidebar showing a stream having a subscriber role added"
/>

### The role chooser
Using the role chooser, you can assign a role with preset permissions, and then easily customise any role by adding or removing certain permissions. Click save to finalise any permission adjustments.

## Permissions and Roles

Permissions and roles vary somewhat between streams and other resources. The matrixes below outline the role types and permissions for those roles.

### Streams

<div className={coreStyles.tableWrapper}>
    <table className={cx(docsStyles.striped, coreStyles.matrix)}>
        <thead>
            <tr>
                <th>Permissions</th>
                <th>User can</th>
                <th>Subscriber</th>
                <th>Publisher</th>
                <th>Editor</th>
                <th>Owner</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>stream_get</td>
                <td>Fetch stream details</td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>stream_edit</td>
                <td>Edit stream details</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>stream_delete</td>
                <td>Delete the stream</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>stream_publish</td>
                <td>Publish to stream</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>stream_subscribe</td>
                <td>Subscribe to stream</td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>stream_share</td>
                <td>Edit stream permissions</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
        </tbody>
    </table>
</div>

### Canvases

<div className={coreStyles.tableWrapper}>
    <table className={cx(docsStyles.striped, coreStyles.matrix)}>
        <thead>
            <tr>
                <th>Permissions</th>
                <th>User can</th>
                <th>User</th>
                <th>Editor</th>
                <th>Owner</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>canvas_get</td>
                <td>Open canvas</td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>canvas_edit</td>
                <td>Edit canvas</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>canvas_delete</td>
                <td>Delete canvas</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>canvas_startstop</td>
                <td>Start &amp; stop canvas</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>canvas_interact</td>
                <td>Interact with runtime UI</td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>canvas_share</td>
                <td>Edit canvas permissions</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
        </tbody>
    </table>
</div>

### Dashboards

<div className={coreStyles.tableWrapper}>
    <table className={cx(docsStyles.striped, coreStyles.matrix)}>
        <thead>
            <tr>
                <th>Permissions</th>
                <th>User can</th>
                <th>User</th>
                <th>Editor</th>
                <th>Owner</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>dashboard_get</td>
                <td>Open dashboard</td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>dashboard_edit</td>
                <td>Edit dashboard</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>dashboard_delete</td>
                <td>Delete dashboard</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>dashboard_interact</td>
                <td>Interact with runtime UI</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
            <tr>
                <td>dashboard_share</td>
                <td>Edit dashboard permissions</td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="crossMedium" className={coreStyles.cross}/></td>
                <td><SvgIcon name="tick" className={coreStyles.tick}/></td>
            </tr>
        </tbody>
    </table>
</div>
