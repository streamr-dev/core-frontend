import { Link } from 'react-router-dom'

import docsLinks from '$shared/../docsLinks'

# Joining and withdrawing funds

### Joining a Data Union
Joining a Data Union does not require a user transaction. Join the Data Union (if a valid secret is given, the promise waits until the automatic join request has been processed):
```
const dataUnion = await streamr.getDataUnion(address)
await dataUnion.join(secret)
```

The correct secret allows the member to join without manual approval from the Data Union admin. If the secret is omitted, the admin must login, find pending joinRequests in the Data Union admin view of the product, and approve the requests manually.

Similar to `deployDataunion`, you should wait until the member has joined before querying the member’s stats. The Data Union member can check their earnings (minus earlier withdrawals) in every Data Union:

```
const amount = await dataUnion.getWithdrawableEarnings()
```

Also other interesting stats are available from the server:

```
await dataUnion.memberStats()
```

Response would be something like:

```
{
    earningsBeforeLastJoin: BigNumber(333333333333333333),
    status: "ACTIVE",
    totalEarnings: BigNumber(333333333333333333),
    withdrawableEarnings: BigNumber(333333333333333333),
}
```

### Withdrawing earnings
When the member wants to withdraw their earnings, that happens through an Ethereum transaction to the smart contract:

```
await dataUnion.withdrawAll()
```

DATA tokens can be withdrawn and used on the sidechain, (currently <a href="https://www.xdaichain.com" target="_blank" rel="noopener noreferrer">xDai</a>) – for example swapped to some other tokens using a DEX present on that sidechain. The transaction fees on sidechains are orders of magnitude cheaper than on Ethereum mainnet, making it much more feasible to move around even small amounts of value. On xDai, transactions currently cost only fractions of a cent, compared to transactions costing tens or even hundreds of dollars on mainnet. 

The Data Unions framework also support gasless withdrawals via metatransactions. This means that Data Union admins can optionally pay the transaction fees on behalf of members, potentially enabling a better user experience. DATA tokens can also to be directly deposited to a particular member’s balance in the Data Union, allowing Data Union Admins to run referral campaigns that pay out personalised rewards (as opposed to the equal revenue sharing among members, the core feature of Data Unions).
