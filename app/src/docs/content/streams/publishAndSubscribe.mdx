import cx from 'classnames'
import { Link } from 'react-router-dom'

import routes from '$routes'
import Image from '$docs/components/Image'
import Warning from '$docs/components/Warning'
import { CodeSnippet } from '@streamr/streamr-layout'
import docsLinks from '$shared/../docsLinks'

import StreamEditorPreview from './images/tutorials_pub_sub_01_desktop.jpg'
import StreamEditorPreview2x from './images/tutorials_pub_sub_01_desktop@2x.jpg'
import Postman from './images/tutorials_pub_sub_02_desktop.jpg'
import Postman2x from './images/tutorials_pub_sub_02_desktop@2x.jpg'

import { ClientSub, ClientPub, InputsAndOutputs } from './code/tutorials.js'

import docsStyles from '$docs/components/DocsLayout/docsLayout.pcss'

# Publish and Subscribe
Bring your data to Streamr in the way that works best for you â€” as a JS library within your app, or from any application/langauge via MQTT, HTTP or Websocket.

### Publish and Subscribe via JS library
The Streamr client library wraps a Streamr light node for publishing and subscribing to data, and contains convenience functions for creating and managing streams. You can insert a node into any application where JavaScript runs, including the browser.

Checkout the docs section for <Link to={docsLinks.usingALightNode}>Using a light node</Link>.

- <a href="https://www.npmjs.com/package/streamr-client" target="_blank" rel="noopener noreferrer">Streamr Client NPM</a>
- <a href="https://github.com/streamr-dev/network-monorepo/blob/main/packages/client/README.md" target="_blank" rel="noopener noreferrer">Streamr Client Github</a>

<Warning>

The current stable version of the Streamr Client is `5.x` (at the time of writing, December 2021) which is connected to the [Corea Network](https://streamr.network/roadmap). The Brubeck Network Streamr Client is the [6.0.0-alpha.19](https://www.npmjs.com/package/streamr-client/v/6.0.0-alpha.19) build along with the `testnet` builds of the Broker node. The developer experience of the two networks is the same, however, the `6.0.0-alpha.19` client also runs as a light node in the network, whereas the `5.x` era client communicates to a Streamr run node, remotely. When the Streamr Network transitions into the Brubeck era (ETA Jan/Feb 2022), data guarantees of `5.x` clients will need to be reassessed. Publishing data to the Brubeck network will only be visible in the [Brubeck Core UI](https://brubeck.streamr.network). The Marketplace, Core app and CLI tool are currently all configured to interact with the Corea Network only. Take care not to mix networks during this transition period.

</Warning>

### Publish and subscribe via MQTT, HTTP or Websocket
You will need to run a Broker node and interface to it with either MQTT, HTTP or Websocket. Checkout the docs section for <Link to={docsLinks.connectingApplications}>Connecting Applications</Link>. 

### Data preview
Inside the <Link to={routes.streams.index()}>Core app</Link>, you can select the stream and monitor the data preview - your published messages will appear here in real-time.

<Image
  src={StreamEditorPreview}
  highResSrc={StreamEditorPreview2x}
  alt="Stream Editor Preview"
/>
